# 보존 정책

독일 정부는 최근 기업의 보존 기간을 규제하는 특정 법률을 수정했습니다. 한 가지 중요한 변화는 모든 재무 문서가 10년의 이전 요구 사항 대신 11년 동안 보존되어야 한다는 것입니다. 또 다른 변화는 발송된 상업 또는 비즈니스 메일의 사본을 포함하여 상업 또는 비즈니스 메일을 이제 7년이 아닌 5년 동안 보존할 수 있다는 것입니다. 현재 회사는 7년 동안 모든 문서를 유지 관리하는 보존 정책을 준수합니다. 그러나 Contoso Ltd.는 최근 몇 년 동안 해당 환경에 대량의 데이터가 축적되어 어려움을 겪었습니다. 이로 인해 유지 관리 비용이 증가하고 상당한 스토리지 공간 소비가 있었습니다. 이번 과제는 데이터 스토리지 요구 사항을 최소화하면서 법적 규정을 준수하도록 회사의 보존 정책을 최적화하는 것입니다. 회사 정책에 따르면 모든 데이터는 데이터 보존에 적용되는 모든 관련 법률을 엄격하게 준수하여 생성 후 최소 5년 동안 보존되어야 합니다.

## 1부: 솔루션 설계(필수)

이 작업에서는 Contoso Ltd.가 직면한 문제를 해결하기 위한 개념을 설계합니다.

### 디자인 접근 방법

초기 단계에는 설명된 문제에 따라 요구 사항을 분석하고 목표를 이해하는 작업이 포함됩니다.

제공된 사용 사례에 따라 다음 요구 사항을 설명할 수 있습니다.

- 11년 동안 모든 재무 데이터 보존
- 5년 동안 모든 비즈니스 서신 보존
- 데이터 스토리지 오버헤드 최소화

두 번째 단계에서는 Contoso Ltd.의 기존 환경을 확인합니다. Contoso에는 특정 시간 동안 데이터를 보존하기 위한 몇 가지 솔루션이 있습니다. 수행할 작업은 현재 설정을 분석하고 법적 요구 사항을 충족하는지 여부를 결정하는 것입니다. 

세 번째 단계에서는 솔루션 개념을 만드는 작업이 포함됩니다. 철저한 조사 후에 기존 정책은 모두 특정한 조건을 충족하지 않음이 분명해집니다. 따라서 새 정책 집합이 필요합니다.

위의 시나리오에 따라 Microsoft Purview 데이터 수명 주기 관리를 사용하여 데이터를 적절하게 보존할 수 있습니다.

### 제안된 솔루션

|요건|솔루션|작업 플랜:|
|----|----|----|
|11년 동안 모든 재무 데이터 보존| Microsoft Purview 데이터 수명 주기 관리|보존 레이블을 만들고 자동 적용합니다.|
|5년 동안 모든 비즈니스 서신 보존| Microsoft Purview 데이터 수명 주기 관리|보존 정책 배포|


## 파트 2: 솔루션 구현(선택 사항)

### 작업 1: 보존 정책의 현재 구조 분석

이 작업에서는 회사의 기존 보존 정책을 숙지합니다. 다양한 보존 정책, 레이블 및 레이블 정책을 살펴보겠습니다. 보안 및 규정 준수 PowerShell 모듈을 사용하고 기존 정책을 확인합니다. 현재 설정을 조사하고 Contoso Ltd.의 기존 보존 정책이 법적 요구 사항을 충족하는지 여부를 결정합니다.

>[!NOTE] Exchange Online PowerShell 모듈이 이미 설치되어 있어야 합니다. 모듈이 없는 경우 다음 모듈 설치 지침을 따릅니다.

1. 마우스 오른쪽 단추를 누르고 Windows 단추를 선택하여 권한이 있는 PowerShell 창을 열고, **터미널(관리자)** 을 선택합니다.
1. **사용자 계정 컨트롤** 창에서 **예**를 선택하여 실행을 확인합니다.
1. 다음 cmdlet을 입력하여 최신 Exchange Online PowerShell 모듈 버전을 설치합니다.

    ```powershell
    Install-Module ExchangeOnlineManagement
    ```
1. 신뢰할 수 없는 리포지토리 보안 대화 상자가 표시되면 Yes에 해당하는 **Y** 키를 누르고 **Enter** 키를 누릅니다.  이 프로세스를 완료하는 데 약간의 시간이 걸릴 수 있습니다.
1. 다음 cmdlet을 입력하여 보안 및 규정 준수 PowerShell에 연결한 다음 메시지가 표시되면 MOD 관리자 자격 증명을 이용하여 로그인합니다.

    ```powershell
    Connect-IPPSSession
    ```

1. 기존 보존 정책 및 설정을 보려면 다음 cmdlet을 입력합니다.

    ```powershell
     Get-ComplianceTag | Format-Table -Auto Name,Priority,RetentionAction,RetentionDuration,Workload
    ```

1. 결과 테이블을 평가하는 데 시간이 걸릴 수 있습니다.

    >[!NOTE] Microsoft Purview 규정 준수 포털에 액세스하여 보존 정책을 볼 수도 있지만 모든 정책에 대한 개요를 한눈에 보는 대신 각 정책을 하나씩 조사해야 합니다.

기존 레이블 및 설정을 성공적으로 확인하여 법적 요구 사항을 충족하는지 여부를 결정했습니다.

### 작업 2: 보존 정책 만들기

Contoso Ltd.의 보존 정책을 효과적으로 평가하여 법적 표준을 충족하지 못하는 오래된 설정을 발견했습니다. 조사 결과 동일한 설정을 공유하는 5개의 보존 정책을 발견하였으며, 보존 레이블은 하나만 적용되었고 그 중 어느 것도 법적 요구 사항을 적절히 충족하지 못했습니다.

계획에는 5년의 보존 기간으로 새로운 회사 차원의 보존 정책을 구현하는 것이 포함됩니다. 이 기간 이후에는 데이터가 보존될 수 있지만 반드시 삭제해야 하는 것은 아닙니다. 이 조정은 최소 보존 기간에 대한 법적 요구 사항을 충족하고 데이터 오버헤드를 줄입니다.

1. 관리자 계정 **MOD Administrator**를 사용하여 Allan Deyoung으로 Microsoft Purview 규정 준수 포털 **`https://purview.microsoft.com/`** 에 로그인합니다.
1. 다단계 인증을 설정하라는 메시지가 표시되면 지침을 따릅니다.
1. 새 Microsoft Purview 포털 방문 페이지로 이동합니다. **데이터 흐름 공개 및 개인정보처리방침 약관에 동의합니다** 옆의 상자를 선택한 다음 **시작**을 선택합니다.
1. 왼쪽 탐색 패널에서 **솔루션**을 선택하고 **데이터 수명 주기 관리**를 선택합니다. 또는 주 창에서 **모든 솔루션 보기** 타일을 선택한 다음 데이터 거버넌스 아래에 나열된 ***데이터 수명 주기 관리** 타일을 선택할 수 있습니다.

1. **데이터 수명 주기 관리** 창에서 **정책**을 확장한 다음, **보존 정책**을 선택합니다.
1. **보존 정책** 페이지에서 **+ 새 보존 정책**을 선택합니다.
1. **보존 정책 이름 지정** 페이지에서 다음 정보를 입력합니다.
    - **이름**: **`General retention policy`**
    - **설명**: **`This policy is the default retention policy for the entire organization. All data must be retained for at least 5 years.`**
1. **다음**을 선택합니다.
1. **정책 범위** 페이지에서 **다음**을 선택합니다.
1. **만들 보존 정책 유형 선택** 페이지에서 **정적**을 선택한 후 **다음**을 선택합니다.
1. **정책을 적용할 위치 선택** 페이지에서 다음 위치를 사용하도록 설정합니다.

    - Exchange 사서함
    - SharePoint 클래식 및 커뮤니케이션 사이트
    - OneDrive 계정
    - Microsoft 365 그룹 사서함 및 사이트

1. **다음**을 선택합니다.
1. **콘텐츠를 보존할지, 삭제할지 또는 둘 다 수행할지 결정** 페이지에서 다음 설정을 입력합니다.

    - 특정 기간 동안 항목 보존: **5년**
    - 보존 기간 시작 기준: **항목 작성 시**
    - 보존 기간 종료 시: **아무 작업도 하지 않음**

1. **다음**을 선택합니다.
1. **검토 및 완료** 페이지에서 **제출**을 선택한 다음 **완료**를 선택합니다.

보존 정책을 성공적으로 만들었습니다. 이제 회사의 요구 사항을 충족하지 않으므로 나머지 보존 정책을 모두 삭제할 수 있습니다.

### 작업 3 - 보존 레이블 만들기

독일 규정을 준수하려면 이제 보존 기간이 10년인 보존 레이블을 만들고 독일 금융 데이터가 포함된 모든 문서에 자동 적용합니다.

1. Microsoft Purview 포털에서 **데이터 수명 주기 관리** 솔루션에 로그인한 상태여야 합니다.  그렇지 않은 경우 **`https://purview.microsoft.com/`** > **솔루션** > **데이터 수명 주기 관리**로 이동합니다.
1. **데이터 수명 주기 관리** 창에서 **레이블 보존**을 선택합니다.
1. **레이블** 페이지에서 **+ 레이블 만들기**를 선택합니다.
1. **보존 레이블 이름 지정** 페이지에서 다음 정보를 입력합니다.

    - 이름: **`German financial data`**
    - 사용자에 대한 설명: **`This label retains all German financial data for 10 years.`**
    - 관리자에 대한 설명: **`The label retains all financial data for 10 years and it is automatically applied.`**

1. **다음**을 선택합니다.
1. **레이블 설정 정의** 페이지에서 **특정 기간 후에 작업 적용**을 선택하고 **다음**을 선택합니다.
1. **기간 정의** 페이지에서 다음 정보를 입력합니다.

    - 기간은 얼마인가요?: **10년**
    - 기간은 언제 시작해야 하나요?: **항목이 생성된 시점**

1. **다음**을 선택합니다.
1. **기간 이후 수행되는 작업 선택** 페이지에서 **자동으로 항목 삭제**를 선택합니다. **다음**을 클릭합니다.
1. **검토 및 완료** 페이지에서 **레이블 만들기**를 선택합니다.
1. **보존 레이블이 만들어짐** 페이지에서 **특정 유형의 콘텐츠에 이 레이블 자동 적용**을 선택하고 **완료**를 선택합니다.
1. **시작** 페이지에서 다음 정보를 입력합니다.

    - 이름: **`Automatically retain all German financial data for 10 years`**
    - 설명: **`This policy auto-applies the label German financial data.`**

1. **다음**을 선택합니다.
1. **이 레이블을 적용할 콘텐츠 유형 선택** 페이지에서 **중요한 정보가 포함된 콘텐츠에 레이블 적용**을 선택한 후 **다음**을 선택합니다.
1. **중요한 정보가 포함된 콘텐츠** 페이지에서 필터를 **독일**로 설정하고 **재무**를 선택한 다음, **독일 금융 데이터**를 선택하고, **다음**을 선택합니다.
1. **중요한 정보가 포함된 콘텐츠 정의** 페이지에서 모든 기존 설정(변경 없음)을 그대로 두고 **다음**을 선택합니다.
1. **정책 범위** 페이지에서 **다음**을 선택합니다.
1. **만들 보존 정책 유형 선택** 페이지에서 **정적**을 선택합니다.
1. **레이블을 자동으로 적용할 위치 선택** 페이지에서 다음 위치를 사용하도록 설정합니다.

    - Exchange 사서함
    - SharePoint 클래식 및 커뮤니케이션 사이트
    - OneDrive 계정
    - Microsoft 365 그룹 사서함 및 사이트

1. **다음**을 선택합니다.
1. **자동 적용할 레이블 선택** 페이지에서 **독일 재무 데이터** 레이블이 이미 있는지 확인합니다. 그렇지 않으면 **+ 레이블 추가** 단추를 사용하여 추가합니다. **다음**을 선택합니다.
1. **정책을 테스트할지 또는 실행할지 결정**에서 **정책 켜기**를 선택한 후 **다음**을 선택합니다.
1. **검토 및 완료** 페이지에서 **제출**을 선택한 다음 **완료**를 선택합니다.

보존 레이블을 성공적으로 만들고 자동으로 적용했습니다.
