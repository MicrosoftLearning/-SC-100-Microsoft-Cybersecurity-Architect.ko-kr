# 엔드포인트 보안

Contoso는 Microsoft Intune을 사용하여 해당 디바이스를 관리하고 직원에게 Windows 10 및 Windows 11 디바이스를 제공합니다. 이 회사는 과거에 여러 구성 프로필을 구현했습니다. 그러나 회사 차원의 인프라 분석에 따르면 기존 정책은 독립적으로 만들어졌기 때문에 전체적으로 확인하고 추적하기가 어렵습니다. 회사의 사이버 보안 설계자로서 필요한 모든 중요한 구성을 한 곳에서 통합하기로 결정했습니다. 

또한 분석에 따르면 Tailwind Traders는 해당 환경에서 macOS 디바이스를 사용하는 것으로 나타났습니다. 예정된 합병의 일환으로 새 macOS 디바이스에 대한 Contoso 테넌트를 준비할 계획입니다.

## 1부: 솔루션 설계(필수)

이 작업에서는 Contoso Ltd.가 직면한 문제를 해결하기 위한 개념을 설계합니다.

### 디자인 접근 방법

지정된 시나리오에서 다음 요구 사항을 설명할 수 있습니다.

- Windows 디바이스에 대한 모든 구성을 한 곳에서 통합
- MacOS 디바이스 보호

보안 기준이 있는 Microsoft Endpoint Manager는 데스크톱, 랩톱, 모바일 디바이스 및 서버를 비롯한 엔드포인트를 중앙에서 관리하고 보호합니다. Intune 및 Configuration Manager와 같은 도구를 통합하여 애플리케이션, 정책 적용, 규정 준수 및 디바이스 모니터링을 효율적으로 개발할 수 있습니다. 

보안 기준 정책은 Microsoft에서 권장하는 구성 설정 집합으로 구성되며 보안에 미치는 영향을 자세히 설명합니다. 이러한 설정은 Microsoft 보안 엔지니어링 팀, 제품 그룹, 파트너와 고객의 피드백을 기반으로 합니다. 이러한 기준은 다양한 Intune 정책 내의 디바이스 구성 설정과 유사한 설정을 포함합니다. 배포된 각 기준을 사용자 지정하면 필요한 설정과 값을 적용할 수 있습니다. Intune 내에서 보안 기준 프로필을 설정할 때는 기본적으로 여러 디바이스 구성 프로필로 구성된 템플릿을 만듭니다. 이러한 권장 사항은 해당 비즈니스 요구 사항에 따라 정기적으로 검토하고 조정해야 합니다.

### 제안된 솔루션

|요건|솔루션|작업 플랜:|
|----|----|----|
|Windows 디바이스에 대한 모든 구성을 한 곳에서 통합|Microsoft Endpoint Manager - 엔드포인트 |보안 기준 정책 
|MacOS 디바이스 보호|Microsoft Endpoint Manager|macOS 디바이스에 바이러스 백신 배포|

## 파트 2: 솔루션 구현(선택 사항)

### 작업 1: 엔드포인트 보안 기준 정책 배포

전반적인 목표는 엔드포인트를 적절하게 보호하고 한 곳에 가능한 한 많은 정책을 통합하는 것입니다. Intune에서 Windows 디바이스에 대한 엔드포인트 보안 기준 정책을 만들어 이 작업을 수행합니다.

1. Windows 클라이언트 VM **LON-SC1**에 로컬 **관리자** 계정으로 로그인합니다. 암호는 랩 호스팅 공급자가 제공합니다.
1. Microsoft Intune 관리 센터 **`https://intune.microsoft.com`** 에 **MOD 관리자**(admin@WWLxZZZZZZ.onmicrosoft.com)로 로그인합니다(ZZZZZZ는 랩 호스팅 공급자가 제공한 고유 테넌트 ID).  암호는 랩 호스팅 공급자가 제공합니다.
1. 화면 오른쪽 위에 **다단계 인증 관리**라는 정보 상자가 표시되면 **X**를 선택하여 닫습니다.
1. Microsoft Intune 관리 센터에서 탐색 창의 왼쪽에 있는 **엔드포인트 보안**을 선택합니다.
1. **엔드포인트 보안 | 개요** 페이지의 **개요**에서 **보안 기준**을 선택합니다.
1. **엔드포인트 보안 | 보안 기준** 페이지에서 **Windows 10 이상에 대한 보안 기준**을 선택합니다.
1. **Windows 10 이상의 보안 기준 | 프로필** 페이지에서 **+ 프로필 만들기**를 선택합니다.
1. **프로필 만들기** 블레이드에서 설명을 검토하고 **만들기**를 선택합니다.
1. **기본 사항** 블레이드에 다음과 같이 입력합니다.
    1. 이름: **`Secure Windows Endpoints`**
    1. 설명: **`The Security Baseline for Windows 10 and later represents the recommendations for configuring Windows.`**
1. **다음**을 선택합니다.
1. **구성 설정** 블레이드에서 다양한 구성 옵션을 조사합니다. 완료되면 **다음**을 선택합니다.
1. **범위 태그** 블레이드에서 **다음**을 선택합니다.
1. **할당** 블레이드의**포함된 그룹** 아래에서 **모든 사용자 추가**를 선택하고 **다음**을 선택합니다.
1. **검토 + 만들기** 블레이드에서 **만들기**를 선택합니다.
1. **엔드포인트 보안 | 보안 기준** 페이지로 돌아갑니다.
1. **엔드포인트 보안 | 보안 기준** 페이지에서 **엔드포인트용 Microsoft Defender 보안 기준**을 선택합니다.
1. **엔드포인트용 Microsoft Defender 보안 기준 | 프로필**에서 **+ 프로필 만들기**를 선택합니다.
1. **프로필 만들기** 블레이드에서 설명을 검토하고 **만들기**를 선택합니다.
1. **기본 사항** 블레이드에 다음과 같이 입력합니다.
    1. 이름: **`Defender for Endpoint Security Baseline`**
    1. 설명: **`Security best practices for the Microsoft security stack on devices managed by Intune`**
1. **다음**을 선택합니다.
1. **구성 설정** 블레이드에서 다양한 구성 옵션을 조사합니다. 완료되면 **다음**을 선택합니다.
1. **범위 태그** 블레이드에서 **다음**을 선택합니다.
1. **할당** 블레이드의 **포함된 그룹** 아래에서 **모든 사용자 추가**를 선택하고 **다음**을 선택합니다.
1. **검토 + 만들기** 블레이드에서 **만들기**를 선택합니다.

Windows 디바이스에 대한 두 가지 보안 기준 정책을 성공적으로 만들었습니다.

### 작업 2: macOS 디바이스에 바이러스 백신 배포

엔드포인트 보안 기준 정책을 사용하여 Windows 디바이스를 보호한 후에는 바이러스 백신을 배포하고 macOS 디바이스에서 암호화를 사용하도록 설정하여 Trailwind Traders와 합병하기 위한 환경을 준비합니다.

1. Microsoft Intune 관리 센터 **https://intune.microsoft.com**에 로그인한 상태이어야 합니다.
1. Microsoft Intune 관리 센터에서 탐색 창의 왼쪽에 있는 **엔드포인트 보안**을 선택합니다.
1. **엔드포인트 보안 | 개요** 페이지의 **관리**에서 **바이러스 백신**을 선택합니다.
1. **엔드포인트 보안 | 바이러스 백신** 페이지에서 **+ 정책 만들기**를 선택합니다.
1. **프로필 만들기** 창의 **플랫폼**에서 **macOS**를 선택하고 **프로필** 아래에서 **Microsoft Defender 바이러스 백신** 선택합니다.
1. **만들기**를 실행합니다.
1. **기본 사항** 블레이드에 다음과 같이 입력합니다.
    1. 이름: **`Deploy antivirus on macOS devices`**
    1. 설명: **`Deploy antivirus and enable encryption on macOS devices to prepare your environment for merging with Trailwind Traders.`**
1. **다음**을 선택합니다.
1. **구성 설정** 탭에서 설정이 다음과 같이 구성되었는지 확인합니다.
1. **클라우드 제공 보호 기본 설정**:
    - 클라우드 제공 보호 사용/사용 안 함: **사용(기본값)**
    - 자동 샘플 제출 사용/사용 안 함: **사용(기본값)**
    - 진단 컬렉션 수준: **선택 사항(기본값)**
    - 자동 보안 인텔리전스 업데이트: **사용(기본값)**
1. **바이러스 백신 엔진**:
    - 실시간 보호 사용: **사용(기본값)**
    - 수동 모드 사용: **사용 안 함(기본값)**
    - 제외 병합: **admin_only**
1. **위협 유형 설정**에서 **+ 추가**를 선택합니다.
    - 위협 형식 텍스트 상자에 다음을 입력합니다. **potentially_unwanted_application**
    - 수행할 작업: **차단**
    - 위협 형식 설정 병합: **admin_only**
1. 파일 해시 계산 사용: **True****
1. 정의가 업데이트된 후 검사 실행: **사용(기본값)**
1. 적용 수준: **real_time**
1. **네트워크 보호**:
    - 적용 수준: 차단
1. **변조 보호**:
    - 적용 수준: **차단(기본값)**
1. **사용자 인터페이스 기본 설정**:
    - 소비자 버전에 대한 로그인 제어: **사용(기본값)**
    - 상태 메뉴 아이콘 표시/숨기기: **사용 안 함(기본값)**
    - 사용자 시작 피드백: **사용(기본값)**
1. **다음**을 선택합니다.
1. **범위 태그** 블레이드에서 **다음**을 선택합니다.
1. **할당** 탭의 텍스트 상자에 **All users**를 입력하고 선택합니다.
1. **다음**을 선택합니다.
1. **검토 + 만들기** 탭에서 **저장**을 선택합니다.

macOS 디바이스에 대한 바이러스 백신을 성공적으로 구성하고 배포했습니다.

### 작업 3 macOS 디바이스 암호화

이 작업에서는 macOS 디바이스를 암호화합니다.

1. Microsoft Intune 관리 센터 **https://intune.microsoft.com**에 로그인한 상태이어야 합니다.
1. Microsoft Intune 관리 센터에서 탐색 창의 왼쪽에 있는 **엔드포인트 보안**을 선택합니다.
1. **엔드포인트 보안 | 개요** 페이지의 **관리**에서 **디스크 암호화**를 선택합니다.
1. **엔드포인트 보안 | 디스크 암호화** 페이지에서 **+ 정책 만들기**를 선택합니다.
1. **프로필 만들기** 창의 **플랫폼**에서 **macOS**를 선택하고 **프로필**에서 **FileVault**를 선택합니다.
1. **만들기**를 실행합니다.
1. **기본 사항** 블레이드에 다음과 같이 입력합니다.
    1. 이름: **`Encrypt macOS devices`**
    1. 설명: **`FileVault provides built-in Full Disk Encryption for macOS devices.`**
    1. **다음**을 선택합니다.
1. **구성 설정** 블레이드의 **암호화** 아래에서 다음 설정을 구성합니다.
   - FileVault 사용: **예**
   - 개인 복구 키 순환: **6개월**
   - 개인 복구 키에 대한 에스크로 위치 설명: **`To recover a lost or recently rotated recovery key, log in to the Intune Company Portal website using any device. Navigate to the Devices section within the portal, choose the device with FileVault enabled, and then select the option to retrieve the recovery key. The portal will display the current recovery key for that device.`**
   - 바이패스 허용 횟수: **3**
   - 로그아웃할 때까지 지연 허용: **예**
   - 로그아웃 시 프롬프트 사용 안 함: **예**
   - 복구 키 숨기기: **예**
   - **다음**을 선택합니다.
1. **범위 태그** 블레이드에서 **다음**을 선택합니다.
1. **할당** 블레이드의 **포함된 그룹**에서 **모든 사용자 추가**를 선택한 다음, **다음**을 선택합니다.
1. **검토 + 만들기** 블레이드에서 **만들기**를 선택합니다.

macOS 디바이스를 암호화하기 위해 FileVault 프로필을 성공적으로 구성하고 배포했습니다.
